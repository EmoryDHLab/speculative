<html>
    <head>
        <title>Simple test</title>
        <link href='https://fonts.googleapis.com/css?family=PT+Sans|PT+Sans+Narrow:400,700|Inconsolata' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="zooming.css" type="text/css" media="screen" />
        <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link href="css/fjord.css" rel="stylesheet">

        <script src="zoom-js/jquery.js" type="text/javascript"></script>
        <link href="css/bootstrap.min.css" rel="stylesheet">

        <!-- jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <!-- animsition.js -->
        <!-- <script src="../dist/js/animsition.min.js"></script> -->
        <script>
        function goRight(){
            document.getElementById('route2').click();
          }
        function goRightAgain(){
          document.getElementById('route3').click();
        }
        </script>

    </head>

<body>
    <section class="speculative_intro">
        <div class="fullrow row intro section">
          <div class="container-fluid introban">
              <h1>The Shape of History</h1>
              <br>
              <div class="col-md-8 col-md-offset-2">
                  <h2>What is the shape of history? How does that shape affect our sense of history itself?</h2>
              </div>
          </div>
        </div>
      </section>
      <section>

          <div class="current-content">
              <div class="col navarrow" id= "splashpage" onclick="replace(id)"><i class="fa fa-angle-up direction-updown fa-4x" aria-hidden="true"></i></div>

              <div class="row">

                <div class="col "><i style="color:white" class="fa fa-angle-left direction fa-4x" aria-hidden="true"></i></div>
                <div class="col-lg-12" id="all">
                  <div class="row narrative" id="history">
                    <div class="container">
                      <h2>About</h2>
                      <br>
                      <div class = "row">
                          <div class="col">
                              <p>What is the shape of history? Does it unfold along a path, proceeding from past to present? Does it cycle, repeating both triumphs and tragedies? Or is it something else altogether, a shape that reflects the complexities and ambiguities of recorded time?</p>
                              <br>
                              <p>When we give shape to history, we make choices that impact how we understand history itself. A timeline, for instance, reinforces our sense of history’s inevitable forward progression. A clocklike arrangement, on the other hand, suggests the cyclical nature of historical events. But what if the goal of giving shape to history were to allow each person, individually, to make sense of history for herself?</p>
                              <br>
                              <p>This was the goal of Elizabeth Peabody, the nineteenth-century writer, editor, educator, and activist. Drawing from a system developed in Poland earlier in the century, she devised a method of translating history into shape and color. She aimed to appeal to the mind’s eye—a phrase she herself employed—so that each viewer could create her own story to explain the events of the past.</p>
                          </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col navarrow navarrow-suggested" id="howitworkspage" onclick="replace(id)" ><i class="fa fa-angle-right direction direction-suggested fa-4x" aria-hidden="true" ></i></div>
            </div>
                <div class="col navarrow"><i class="fa fa-angle-down direction-updown fa-4x" aria-hidden="true"></i></div>
        </div>
      </section>
          <section>
        <div class="fullrow row section">
                    <div class="container">
                      <h2>About Site, Peabody</h2>
                      <br>
                      <div class = "row">
                          <div class="col">
                              <p>ABOUT EP Elizabeth Peabody intended her images to be interactive. Along with the charts printed in her textbook, she designed workbooks that would allow each student to identify the major historical events of each era and then, one by one, color them in. Her belief was that, by creating “outlines to the eye,” her students would be able conjure their own narratives of historical.</p>
                              <br>
                              <p>ABOUT THE SITE interaction for the web is in many ways quite simple. From software like Adobe Photoshop, we understand the concept of the color picker; the mouse (or trackpad) has naturalized the click as a basic mode of interaction; and web programming languages like JavaScript allow us to translate the original interaction into algorithmic form.</p>
                              <br>
                              <p>FURTHER READING are much less familiar. What do we learn about history—or about visualization—by translating these events into abstraction? Does the image convey a general sense of the unfolding of historical time, as Peabody envisioned? Does it reflect the impressionistic way in which history is recalled from memory? Or something else altogether?</p>
                          </div>
                      </div>
                    </div>
        </div>
      </section>
      <section>
</body>

  <script src="js/jquery-1.11.3.min.js"></script>
  <script src="js/d3.min.js"></script>
  <script src="js/two.min.js"></script>
  <script src="js/newCode/helpers.js"></script>
  <script src="js/newCode/evtEvtSet.js"></script>
  <script src="js/newCode/compare.js"></script>
  <script src="js/newCode/buildCorrector.js"></script>
  <script src="js/newCode/grid.js"></script>
  <script src="js/newCode/gridAccessories.js"></script>

  <script src="js/fullheight.js"></script>
  <script>

  function replace(page){
    var content;

    switch(page){
      case "howitworkspage":
        content = "howitworks.html";
        break;
      case "explorepage":
        content = "explore.html";
        break;
      case "comparepage":
        content = "compare.html";
        break;
      case "playpage":
        content = "play.html";
        break;
      case "learnpage":
        content = "learn.html";
        break;
      case "splash":
        content = "splash";
        break;
      case "about":
        content = "about";
        break;
      case "dataofhistory":
        content = "dataofhistory.html"
        break;
      case "secondabout":
        content = "secondabout.html"
        break;
      case "interactionupdated":
        content = "interactionupdated.html"
        break;
      case "aboutsite":
        content = "aboutsite"
    }

    if(content === "splash"){
      $("html, body").animate({ scrollTop: 0 }, "slow");
    } else if (content === "about"){
     location.reload();
    } else if (content === "aboutsite"){
      $("html, body").animate({ scrollTop: 2500 }, "slow");
    }else{
      $(function () {
        $.get(content, function (data) {
            $(".current-content").replaceWith(data);
            // }
        });
      });
      }
  }


  </script>
<script>
      var peabody=new EventSet();
      var test= new EventSet();

      var compareGrid=new Grid("mainComp",.6,0,335),
          compEvtList=new List("compEvtList"),
          compDataList=new List("csv",true)
          timeline= new Timeline(),
          compareVisualizations=[compareGrid,compEvtList,compDataList,timeline];

      var learnGrid=new Grid("mainLearn",.75,1),
          learnPallete=new Pallete("learnPallete"),
          learnCorrector=null,
          learnKey=new EventKey(100,"learnKey"),
          learnVisualizations=[learnGrid,learnPallete];

      var playGrid=new Grid("mainPlay",.75,2),
          playPallete=new Pallete("playPallete",true),
          playKey=new EventKey(100,"playKey",true),
          playCorrector=null;
          playVisualizations=[playGrid,playKey];

      var exploreGrid=new Grid("mainExplore",.75,0),
          exploreList=new List("exploreList"),
          exploreKey=new EventKey(100,"exploreKey"),
          explorePallete=new Pallete("explorePallete"),
          exploreVisualizations=[exploreGrid,exploreList,exploreKey,explorePallete];
      var visualizations=compareVisualizations.concat(learnVisualizations)
          .concat(playVisualizations).concat(exploreVisualizations);
      var dataSets=[peabody,test];
      // start handles all loading for events.
      function start(){
        console.log("Loading data 1/2");
        peabody.loadFromCSV("peabodyData.csv", loadTest);
      }
      function loadTest(){
        console.log("Loading data 2/2");
        test.loadFromCSV("testing.csv",main);
      }
      function main(){
        learnCorrector=new BuildCorrector(peabody);
        playCorrector =new BuildCorrector(peabody);
        learnVisualizations.push(learnCorrector);
        playVisualizations.push(playCorrector);
        learnKey.draw()
        sortAllByYear(dataSets);
        loadAllWithEventSet(visualizations,peabody);
        playPallete.initEmpty([
          ['rgb(141, 43, 29)','Color Label'],
          ['rgb(50, 91, 103)','Color Label'],
          ['rgb(69, 136, 103)','Color Label'],
          ['#9CB23E ','Color Label'],
          ['#74436C','Color Label'],
          ['#BF602E','Color Label']
        ]);
        drawAll(visualizations);
        playPallete.draw();
        learnGrid.initBuild(learnPallete,learnCorrector);
        playGrid.initBuild(playPallete,playCorrector);
      }
      start();
      $("#compare").on("mouseover","path, rect, li",function(e){
        console.log('highlighting');
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        highlight(el,compareVisualizations);
      });
      $("#compare").on("mouseout","path, rect, li",function(e){
        console.log(e.currentTarget);
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        unhighlight(el,compareVisualizations);
      });
      $("#explore").on("mouseover","path, rect, li",function(e){
        console.log('highlighting');
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        highlight(el,exploreVisualizations);
      });
      $("#explore").on("mouseout","path, rect, li",function(e){
        console.log(e.currentTarget);
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        unhighlight(el,exploreVisualizations);
      });
      $("#mainComp").on("click","path",function(e){
        compareGrid.clickHandle(e);
      });
      $(".data-picker").on("click","a",function(e){
        changeSet(e,e.currentTarget.dataset.parent)
      });
      function changeSet(e, parent){
        console.log(e);
        if(e.currentTarget.dataset.index==1){
          if(parent=="#compare"){
            reload(compareVisualizations,peabody);
          }else if (parent=="#learn") {
            reload(learnVisualizations,peabody);
            learnGrid.corrector=new BuildCorrector(peabody);
            learnCorrector=learnGrid.corrector;
            learnCorrector.update();
            learnVisualizations[2]=learnCorrector;
            playGrid.corrector=new BuildCorrector(peabody);
            playCorrector=playGrid.corrector;
            playCorrector.update();
            playVisualizations[2]=playCorrector;
          }else if (parent=="#explore") {
            reload(exploreVisualizations,peabody);
          }
        }else if (e.currentTarget.dataset.index==2) {
          if(parent=="#compare"){
            reload(compareVisualizations,test);
          }else if (parent=="#learn") {
            reload(learnVisualizations,test);
            learnGrid.corrector=new BuildCorrector(test);
            learnCorrector=learnGrid.corrector;
            learnCorrector.update();
            learnVisualizations[2]=learnCorrector;
            playGrid.corrector=new BuildCorrector(test);
            playCorrector=playGrid.corrector;
            playCorrector.update();
            playVisualizations[2]=playCorrector;
          }else if (parent=="#explore") {
            reload(exploreVisualizations,test);
          }
        }else{
          return
        }
        $(parent+" .currentDataSet").html(e.currentTarget.innerHTML);
      }
      $("#mainLearn").on("mouseover","path",function(e){
        learnGrid.hoverHandle(e,true);
      });
      $("#mainLearn").on("mouseout","path",function(e){
        learnGrid.hoverHandle(e,false);
      });
      $("#mainLearn").on("click","path",function(e){
        learnGrid.clickHandle(e);
      });
      $("#mainPlay").on("mouseover","path",function(e){
        playGrid.hoverHandle(e,true);
      });
      $("#mainPlay").on("mouseout","path",function(e){
        playGrid.hoverHandle(e,false);
      });
      $("#mainPlay").on("click","path",function(e){
        playGrid.clickHandle(e);
      });
      $("#next").click(function(e){
        learnCorrector.loadNext();
      });
      $("#previous").click(function(e){
        learnCorrector.loadPrev();
      });
      $("#learnPallete").on("mousedown",".palleteSquare:not(.disabled)",function(e){
        learnPallete.selectColor(e.currentTarget);
      });
      $("#show-hide").on("click",function(e){
        console.log("clicky");
        learnGrid.showAnswer();
      });
      $("#play").on("mousedown",".palleteSquare:not(.disabled)",function(e){
        playPallete.selectColor(e.currentTarget);
      });
      $("#play").on("dblclick",".palleteSquare:not(.disabled)",function(e){
        playPallete.changeColor(e.currentTarget);
      });
      $("#play").on("dblclick",".palleteSquare",function(e){
        console.log(e.currentTarget.children);
        e.currentTarget.children[0].disabled=false;
        $(e.currentTarget.children[0]).trigger("click");
      });
      $("#play").on("change",".secretColor",function(e){
        e.currentTarget.parentNode.style.backgroundColor=e.currentTarget.value;
        playPallete.currentColor=e.currentTarget.value;
        e.currentTarget.disabled=true;
      });
      $("#play").on("focusout",".secretColor",function(e){
        e.currentTarget.parentNode.style.backgroundColor=e.currentTarget.value;
        playPallete.currentColor=e.currentTarget.value;
        e.currentTarget.disabled=true;
      });
      $(".suggested").on("click",function(e){
        e.currentTarget.innerHTML="";
      });
    </script>