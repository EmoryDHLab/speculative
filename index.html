<html>
    <head>
        <title>The Shape of History</title>
        <link href='https://fonts.googleapis.com/css?family=PT+Sans|PT+Sans+Narrow:400,700|Inconsolata' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="zooming.css" type="text/css" media="screen" />
        <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link href="css/fjord.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.9.2/jquery.fullPage.css" />

        <script src="zoom-js/jquery.js" type="text/javascript"></script>
        <link href="css/bootstrap.min.css" rel="stylesheet">

        <!-- jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <!-- animsition.js -->
        <!-- <script src="../dist/js/animsition.min.js"></script> -->
        <script>
        function goRight(){
            document.getElementById('route2').click();
          }
        function goRightAgain(){
          document.getElementById('route3').click();
        }
        </script>

    </head>

<body>
<div id="fullpage">
    <section class="section speculative_intro">
        <div class="fullrow row intro section">
          <div class="container-fluid introban">
              <h1>The Shape of History</h1>
              <br>
              <div class="col-md-8 col-md-offset-2">
                  <h2>Reimagining Elizabeth Palmer Peabody's Historical Visualization Work</h2>
              </div>
          </div>
        </div>
      </section>

      <section class="section">
          <div class="current-content">
              <div class="col navarrow" id= "splashpage" onclick="replace(id)"><i class="fa fa-angle-up direction-updown fa-4x" aria-hidden="true"></i></div>

              <div class="row">

                <div class="col "><i style="color:white" class="fa fa-angle-left direction fa-4x" aria-hidden="true"></i></div>
                <div class="col-lg-12" id="all">
                  <div class="row narrative" id="history">
                    <div class="container">
                      <h2>Introduction</h2>
                      <br>
                      <div class = "row">
                          <div class="col">
                              <p>What is the shape of history? Does it unfold along a path, proceeding from past to present? Does it cycle, repeating both triumphs and tragedies? Or is it something else altogether, a shape that reflects the complexities and ambiguities of recorded time?</p>
                              <br>
                              <p>When we give shape to history, we make choices that impact how we understand history itself. A timeline, for instance, reinforces our sense of history’s inevitable forward progression. A clocklike arrangement, on the other hand, suggests the cyclical nature of historical events. But what if the goal of giving shape to history were to allow each person, individually, to make sense of history for herself?</p>
                              <br>
                              <p>This was the goal of Elizabeth Palmer Peabody, the nineteenth-century writer, editor, educator, and activist. Drawing from a system developed in Poland earlier in the century, she devised a method of translating history into shape and color. She hoped to appeal to the mind’s eye—a phrase she herself employed—so that each viewer could create a personal account of the past.</p>
                          </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col navarrow navarrow-suggested" id="howitworkspage" onclick="replace(id)" ><i class="fa fa-angle-right direction direction-suggested fa-4x" aria-hidden="true" ></i></div>
            </div>
                <div class="col navarrow"><i class="fa fa-angle-down direction-updown fa-4x" aria-hidden="true"></i></div>
        </div>
      </section>

      <section class="section">
        <div class="fullrow row section">
                    <div class="container">
                      <h2>Credits</h2>
                      <br>
                      <div class = "row">
                          <div class="col">
                              <p>CREDITS. "The Shape of History" was conceived by Lauren Klein as part of a larger project on the history of data visualization. The site was designed and prototyped in Spring 2016 by Lauren Klein, Caroline Foster, and Erica Pramer. Adam Hayward and Shivani Negi joined the team in Fall 2016, and worked with Lauren and Caroline to implement the version of the site that you see.</p>
                              <br>
                              <p>ABOUT THE SITE. This site was built using HTML5, CSS and JavaScript, and makes use of several open-source libraries including <a href="https://jquery.com/">jQuery</a>, <a href="http://getbootstrap.com/">Bootstrap</a>, <a href="https://d3js.org/">D3.js</a>, and <a href="https://two.js.org/">two.js</a>. Our code is available on <a href=="https://github.com/GeorgiaTechDHLab/speculative">GitHub</a>. Please contact Lauren Klein, <a href="mailto:lauren.klein@lmc.gatech.edu">lauren.klein@lmc.gatech.edu</a>, with any additional questions or comments.</p>
                              <br>
                              <p>FURTHER READING. This site is part of a larger project on the history of data visualization. Please visit Lauren's <a href="http://lklein.com/research/"> research site</a> for more academic writing on the subject. You can read a bit more about Elizabeth Peabody's visualization scheme <a href="http://lklein.com/2014/12/visualization-as-argument/">here</a> and <a href="https://medium.com/genres-of-scholarly-knowledge-production/visualization-as-argument-and-on-the-floor-736bb8859cf#.i12y3ke85">here</a>. (Other publications are in press). Bruce Rhonda's <a href="http://www.hup.harvard.edu/catalog.php?isbn=9780674246959">Elizabeth Palmer Peabody: A Reformer on Her Own Terms</a> (Harvard University Press, 1999) offers a thorough biography of the subject. Daniel Rosenberg and Anthony Grafton's <a href="https://www.papress.com/html/book.details.page.tpl?isbn=9781568987637">Cartographies of Time: A History of the Timeline</a> (Princeton Architectural Press, 2010) presents a dazzling survey of the range of visual representations of history.</p>
                          </div>
                      </div>
                    </div>
        </div>
      </section>
  </div>
</body>

  <script src="js/jquery-1.11.3.min.js"></script>
  <script src="js/d3.min.js"></script>
  <script src="js/two.min.js"></script>
  <script src="js/newCode/helpers.js"></script>
  <script src="js/newCode/evtEvtSet.js"></script>
  <script src="js/newCode/compare.js"></script>
  <script src="js/newCode/buildCorrector.js"></script>
  <script src="js/newCode/grid.js"></script>
  <script src="js/newCode/gridAccessories.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.9.2/jquery.fullPage.js"></script>

  <script src="js/fullheight.js"></script>
  <script>
  $(document).ready(function() {
    $('#fullpage').fullpage();
});

  function replace(page){
    var content;

    switch(page){
      case "howitworkspage":
        content = "howitworks.html";
        break;
      case "explorepage":
        content = "explore.html";
        break;
      case "comparepage":
        content = "compare.html";
        break;
      case "playpage":
        content = "play.html";
        break;
      case "learnpage":
        content = "learn.html";
        break;
      case "splash":
        content = "splash";
        break;
      case "about":
        content = "about";
        break;
      case "dataofhistory":
        content = "dataofhistory.html"
        break;
      case "secondabout":
        content = "secondabout.html"
        break;
      case "interactionupdated":
        content = "interactionupdated.html"
        break;
      case "aboutsite":
        content = "aboutsite"
    }

    if(content === "splash"){
      $("html, body").animate({ scrollTop: 0 }, "slow");
    } else if (content === "about"){
     location.reload();
    } else if (content === "aboutsite"){
      $("html, body").animate({ scrollTop: 2500 }, "slow");
    }else{
      $(function () {
        $.get(content, function (data) {
            $(".current-content").replaceWith(data);
            // }
        });
      });
      }
  }


  </script>
<script>
      var peabody=new EventSet();
      var test= new EventSet();

      var compareGrid=new Grid("mainComp",.6,0,335),
          compEvtList=new List("compEvtList"),
          compDataList=new List("csv",true)
          timeline= new Timeline(),
          compareVisualizations=[compareGrid,compEvtList,compDataList,timeline];

      var learnGrid=new Grid("mainLearn",.75,1),
          learnPallete=new Pallete("learnPallete"),
          learnCorrector=null,
          learnKey=new EventKey(100,"learnKey"),
          learnVisualizations=[learnGrid,learnPallete];

      var playGrid=new Grid("mainPlay",.75,2),
          playPallete=new Pallete("playPallete",true),
          playKey=new EventKey(100,"playKey",true),
          playCorrector=null;
          playVisualizations=[playGrid,playKey];

      var exploreGrid=new Grid("mainExplore",.75,0),
          exploreList=new List("exploreList"),
          exploreKey=new EventKey(100,"exploreKey"),
          explorePallete=new Pallete("explorePallete"),
          exploreVisualizations=[exploreGrid,exploreList,exploreKey,explorePallete];
      var visualizations=compareVisualizations.concat(learnVisualizations)
          .concat(playVisualizations).concat(exploreVisualizations);
      var dataSets=[peabody,test];
      // start handles all loading for events.
      function start(){
        console.log("Loading data 1/2");
        peabody.loadFromCSV("peabodyData.csv", loadTest);
      }
      function loadTest(){
        console.log("Loading data 2/2");
        test.loadFromCSV("testing.csv",main);
      }
      function main(){
        learnCorrector=new BuildCorrector(peabody);
        playCorrector =new BuildCorrector(peabody);
        learnVisualizations.push(learnCorrector);
        playVisualizations.push(playCorrector);
        learnKey.draw()
        sortAllByYear(dataSets);
        loadAllWithEventSet(visualizations,peabody);
        playPallete.initEmpty([
          ['rgb(141, 43, 29)','Color Label'],
          ['rgb(50, 91, 103)','Color Label'],
          ['rgb(69, 136, 103)','Color Label'],
          ['#9CB23E ','Color Label'],
          ['#74436C','Color Label'],
          ['#BF602E','Color Label']
        ]);
        drawAll(visualizations);
        playPallete.draw();
        learnGrid.initBuild(learnPallete,learnCorrector);
        playGrid.initBuild(playPallete,playCorrector);
      }
      start();
      $("#compare").on("mouseover","path, rect, li",function(e){
        console.log('highlighting');
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        highlight(el,compareVisualizations);
      });
      $("#compare").on("mouseout","path, rect, li",function(e){
        console.log(e.currentTarget);
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        unhighlight(el,compareVisualizations);
      });
      $("#explore").on("mouseover","path, rect, li",function(e){
        console.log('highlighting');
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        highlight(el,exploreVisualizations);
      });
      $("#explore").on("mouseout","path, rect, li",function(e){
        console.log(e.currentTarget);
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        unhighlight(el,exploreVisualizations);
      });
      $("#mainComp").on("click","path",function(e){
        compareGrid.clickHandle(e);
      });
      $(".data-picker").on("click","a",function(e){
        changeSet(e,e.currentTarget.dataset.parent)
      });
      function changeSet(e, parent){
        console.log(e);
        if(e.currentTarget.dataset.index==1){
          //if(parent=="#compare"){
            reload(compareVisualizations,peabody);
          //}else if (parent=="#learn") {
            reload(learnVisualizations,peabody);
            learnGrid.corrector=new BuildCorrector(peabody);
            learnCorrector=learnGrid.corrector;
            learnCorrector.update();
            learnVisualizations[2]=learnCorrector;
            playGrid.corrector=new BuildCorrector(peabody);
            playCorrector=playGrid.corrector;
            playCorrector.update();
            playVisualizations[2]=playCorrector;
          //}else if (parent=="#explore") {
            reload(exploreVisualizations,peabody);
          //}
        }else if (e.currentTarget.dataset.index==2) {
          //if(parent=="#compare"){
            reload(compareVisualizations,test);
        //}else if (parent=="#learn") {
            reload(learnVisualizations,test);
            learnGrid.corrector=new BuildCorrector(test);
            learnCorrector=learnGrid.corrector;
            learnCorrector.update();
            learnVisualizations[2]=learnCorrector;
            playGrid.corrector=new BuildCorrector(test);
            playCorrector=playGrid.corrector;
            playCorrector.update();
            playVisualizations[2]=playCorrector;
          //}else if (parent=="#explore") {
            reload(exploreVisualizations,test);
          //}
        }else{
          return
        }
        $(".currentDataSet").html(e.currentTarget.innerHTML);
      }
      $("#mainLearn").on("mouseover","path",function(e){
        learnGrid.hoverHandle(e,true);
      });
      $("#mainLearn").on("mouseout","path",function(e){
        learnGrid.hoverHandle(e,false);
      });
      $("#mainLearn").on("click","path",function(e){
        learnGrid.clickHandle(e);
      });
      $("#mainPlay").on("mouseover","path",function(e){
        playGrid.hoverHandle(e,true);
      });
      $("#mainPlay").on("mouseout","path",function(e){
        playGrid.hoverHandle(e,false);
      });
      $("#mainPlay").on("click","path",function(e){
        playGrid.clickHandle(e);
      });
      $("#next").click(function(e){
        learnCorrector.loadNext();
      });
      $("#previous").click(function(e){
        learnCorrector.loadPrev();
      });
      $("#learnPallete").on("mousedown",".palleteSquare:not(.disabled)",function(e){
        learnPallete.selectColor(e.currentTarget);
      });
      $("#show-hide").on("click",function(e){
        console.log("clicky");
        learnGrid.showAnswer();
      });
      $("#play").on("mousedown",".palleteSquare:not(.disabled)",function(e){
        playPallete.selectColor(e.currentTarget);
      });
      $("#play").on("dblclick",".palleteSquare:not(.disabled)",function(e){
        playPallete.changeColor(e.currentTarget);
      });
      $("#play").on("dblclick",".palleteSquare",function(e){
        console.log(e.currentTarget.children);
        e.currentTarget.children[0].disabled=false;
        $(e.currentTarget.children[0]).trigger("click");
      });
      $("#play").on("change",".secretColor",function(e){
        e.currentTarget.parentNode.style.backgroundColor=e.currentTarget.value;
        playPallete.currentColor=e.currentTarget.value;
        e.currentTarget.disabled=true;
      });
      $("#play").on("focusout",".secretColor",function(e){
        e.currentTarget.parentNode.style.backgroundColor=e.currentTarget.value;
        playPallete.currentColor=e.currentTarget.value;
        e.currentTarget.disabled=true;
      });
      $(".suggested").on("click",function(e){
        e.currentTarget.innerHTML="";
      });

    </script>

    <script>
      function hide(target){
        document.getElementById(target).style.display = 'none';
      }
      imageTitle="img/howitworks/HIW";
      current=0;
      console.log(imageTitle+current+".png");
      $(".clickThru").css("background-image","url('"+imageTitle+current+".png')");
      $(".clickThru").on("click",function(e){
        console.log("next");
        current++;
        if(current>8){
          current=0
        }
        e.target.style.backgroundImage="url('"+imageTitle+current+".png')";
      });
    </script>

  </body>
</html>
