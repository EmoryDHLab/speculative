<html>
  <head>
      <title>The Shape of History</title>
      <link href='https://fonts.googleapis.com/css?family=PT+Sans|PT+Sans+Narrow:400,700|Inconsolata' rel='stylesheet' type='text/css'>
      <link rel="stylesheet" href="zooming.css" type="text/css" media="screen" />
      <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="css/style.css">
      <link href="css/fjord.css" rel="stylesheet">
      <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.9.2/jquery.fullPage.css" />

      <link href="css/bootstrap.min.css" rel="stylesheet">

      <!-- jQuery -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <!-- animsition.js -->
      <!-- <script src="../dist/js/animsition.min.js"></script> -->
      <script src="zoom-js/jquery.js" type="text/javascript"></script>
      <link href="css/bootstrap.min.css" rel="stylesheet">

      <!-- jQuery -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <!-- animsition.js -->
      <!-- <script src="../dist/js/animsition.min.js"></script> -->
  </head>
  <body>
    <div class="constant burgerNav">
      <div id="burg-0" class="capRow current"></div>
      <div class="midRow">
        <div id="burg-1" class="sqr"></div>
        <div id="burg-2" class="sqr"></div>
        <div id="burg-3" class="sqr"></div>
      </div>
      <div class="midRow">
        <div id="burg-4" class="sqr"></div>
        <div id="burg-5" class="sqr"></div>
        <div id="burg-6" class="sqr"></div>
      </div>
      <div class="midRow">
        <div id="burg-7" class="sqr"></div>
        <div id="burg-8" class="sqr"></div>
        <div id="burg-9" class="sqr"></div>
      </div>
      <div id="burg-10" class="capRow"></div>
    </div>
    <div class="navrow">
      <div class="speculative_intro cell">
        <div class="fullrow intro section">
          <div class="container-fluid introban">
              <h1>The Shape of History</h1>
              <br>
              <div class="col-md-8 col-md-offset-2">
                  <h2>Reimagining Elizabeth Palmer Peabody's Historical Visualization Work</h2>
              </div>
          </div>
        </div>
      </div><!--close section intro-->
      <div class="speculative_intro cell">
        <div class="fullrow intro section">
          <div class="container-fluid introban">
              <h1>The Shape of History</h1>
              <br>
              <div class="col-md-8 col-md-offset-2">
                  <h2>Reimagining Elizabeth Palmer Peabody's Historical Visualization Work</h2>
              </div>
          </div>
        </div>
      </div>
      <div class="speculative_intro cell">
        <div class="fullrow intro section">
          <div class="container-fluid introban">
              <h1>The Shape of History</h1>
              <br>
              <div class="col-md-8 col-md-offset-2">
                  <h2>Reimagining Elizabeth Palmer Peabody's Historical Visualization Work</h2>
              </div>
          </div>
        </div>
      </div>
    </div>
<!--       <section class="walkthrough">-->
    <div class="navrow">
      <div class="section cell narrative" id="history">
          <div class="container">
            <h2>Introduction</h2>
            <br>
            <div class = "cell">
                <div class="col-md-6">
                    <p>What is the shape of history? Does it unfold along a path, proceeding from past to present? Does it cycle, repeating both triumphs and tragedies? Or is it something else altogether, a shape that reflects the complexities and ambiguities of recorded time?</p>
                    <br>
                    <p>When we give shape to history, we make choices that impact how we understand history itself. A timeline, for instance, reinforces our sense of history’s inevitable forward progression. A clocklike arrangement, on the other hand, suggests the cyclical nature of historical events. But what if the goal of giving shape to history were to allow each person, individually, to make sense of history for herself?</p>
                    <br>
                    <p>This was the goal of Elizabeth Palmer Peabody, the nineteenth-century writer, editor, educator, and activist. Drawing from a system developed in Poland earlier in the century, she devised a method of translating history into shape and color. She hoped to appeal to the mind’s eye—a phrase she herself employed—so that each viewer could create a personal account of the past.</p>
                </div>
            </div>
          </div>
        </div><!--close history-->

        <div class="explanation cell" id="howitworks">
          <div class="container">
            <h2>How it Works</h2>
            <h3 id="h3_howitworks">Click the chart to begin.</h3>
            <div class="clickThru"></div>
          </div>
        </div>

        <div class="cell interactive" id="view">
          <div id="explore" class='contain'>
            <h2>Explore</h2>
            <h3>Mouse over each event to see its position on the grid.</h3>
            <div style="display:flex;">
              <div id="mainExplore"></div>
              <div class="accessories">
                <div class="dropdown">
                  <div class="dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    <h4 class="drop">
                      <span class="currentDataSet">1. Peabody 1501-1600</span>
                      <span class="caret"></span>
                    </h4>
                  </div>
                </div>
                <ol id="exploreList" class="eList"></ol>
                <h4 class="sidetitle">Palette</h4>
                <div id="explorePallete"></div>
                <h4 class="sidetitle">Event Key</h4>
                <div id="exploreKey"></div>
              </div>
            </div>
          </div>
        </div><!--close view-->
    </div>
    <div class="navrow">
      <div class="cell">
        <div class="contain" id="compare">
          <h2>Compare</h2>
          <h3>Mouse over any event to see its representation in timeline, data, grid, and textual form.</h3>
          <div id="timeline"></div>
          <div style="display:flex;">
            <div class="accessories left-acc">
              <ol id="csv" class="eList spec-scroll"></ol>
            </div>
            <div id="mainComp"></div>
            <div class="accessories right-acc">
              <div class="dropdown">
                <div class="dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                  <h4 class="drop">
                    <span class="currentDataSet">1. Peabody 1501-1600</span>
                    <span class="caret"></span>
                  </h4>
                </div>
                <ul class="dropdown-menu data-picker" aria-labelledby="dropdownMenu1">
                  <li><a data-index="1" data-parent="#compare">1. Peabody 1501-1600</a></li>
                  <li><a data-index="2" data-parent="#compare">2. A Fake Data Set</a></li>
                </ul>
              </div>
              <ol id="compEvtList" class="eList spec-scroll"></ol>
            </div>
          </div>
        </div>
      </div>
      <div class="cell">
        <div id="play" class='contain'>
          <h2>Play</h2>
          <h3>Click to add your own events to the grid. You can also change the title, event list, colors, color labels, and event descriptions.</h3>
          <div style="display:flex;">
            <div id="mainPlay"></div>
            <div class="accessories">
              <input class="sidetitle editable head4" type="text" value="Title"></input>
              <textarea id="playEvents" class="editable spec-scroll" placeholder="Type or paste events here."></textarea>
              <h4 class="sidetitle">Palette</h4>
              <div id="playPallete"></div>
              <h4 class="sidetitle">Event Key</h4>
              <div id="playKey"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="cell">
        <div id="learn" class='section contain'>
          <h2>Learn</h2>
          <h3>Read the description of the event, click on the corresponding color, and then plot the event on the grid.</h3>
          <div style="display:flex;">
            <div id="mainLearn"></div>
            <div class="accessories">
              <div class="dropdown">
                <div class="dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                  <h4 class="drop">
                    <span class="currentDataSet">1. Peabody 1501-1600</span>
                    <span class="caret"></span>
                  </h4>
                </div>
                <ul class="dropdown-menu data-picker" aria-labelledby="dropdownMenu1">
                  <li><a data-index="1" data-parent="#learn">1. Peabody 1501-1600</a></li>
                  <li><a data-index="2" data-parent="#learn">2. A Fake Data Set</a></li>
                </ul>
              </div>
              <div id="buildList" class="spec-scroll">
                <div id="infoNavArea">
                  <div class="info">
                    <div id="currentYr">1501.</div>
                    <div id="currentBuildEvent">Henry VII. grants patent for colonizing America.&nbsp;</div>
                  </div>
                  <div id="eventsNavigation">
                    <div>
                      <span id="previous" class="glyphicon glyphicon-chevron-left nextPrevButtons" aria-hidden="true"></span>
                      <span id="eventCounter">1</span>
                      <span id="next" class="glyphicon glyphicon-chevron-right nextPrevButtons" aria-hidden="true"></span>
                    </div>
                  </div>
                </div>
                <div id="correctionArea">
                  <img class="corIncor" id="correct" width="21px" height="21px" src="img/checkx-check.png" alt="correct" hidden/>
                  <img class="corIncor" id="incorrect" width="21px" height="21px" src="img/checkx-x.png" alt="incorrect" hidden/>
                  <span class="corIncor" id="na" width="21px" height="21px"></span>
                  <a id='show-hide'>Show me</a>
                </div>
              </div>
              <h4 class="sidetitle">Palette</h4>
              <div id="learnPallete"></div>
              <h4 class="sidetitle">Event Key</h4>
              <div id="learnKey"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="navrow">
	     <div class="section cell narrative" id="data">
        <div class="container">
          <h2>The Data of History</h2>
          <br>
          <div class = "cell">
            <div class="col-md-6">
              <p>The unfamiliarity of Peabody’s grid is striking in contrast to the familiar form of the timeline. The same history, depicted in timeline form, assumes a comforting legibility: the unfolding of past to present, steadily punctuated by significant events.</p>
              <br>
              <p>The conversion from grid to timeline is made possible because of Peabody's own sense of history as a form of data. Although not described as such, Peabody's atomizing of history into a series of events, each defined by its actors and  type, eases the translation of event into data object. Once stored as an array of objects, Peabody's "data" can be visually represented in any number of ways.</p>
                <br>
              <p>Comparing these four representations of the same set of events—-as timeline, as data, as grid, and as text—-we become alerted to how the representation of data truly matters. We learn how each visual form reflects a particular sense of the historical record. We also recognize the role of the designer, as well as those who prepare the data, in shaping the interpretation of history that we see.</p>
            </div>
          </div>
        </div><!--close data-->
      </div>
	    <div class="section cell narrative" id="design">
        <div class="container">
          <h2>Imagining Alternate Futures</h2>
          <br>
          <div class = "cell">
            <div class="col-md-6">
              <p>Then, as now, the process of converting text to image was very hard to do. But for Peabody, the difficulty of the process was part of the point. She devised her   method at a time of great national crisis-- the decade leading up to the Civil War-- and she recognized that the nation's problems would be difficult to resolve. She hoped that by prompting her students to create new narratives of the past, they would also imagine alternate futures.</p>
              <br>
            <p>Certainly, some students rose to the challenge. But archival evidence suggests that others resisted the exercise, choosing instead to create patterns that bore no relation to the text. Indeed, it is difficult to resist the desire to employ the grid as a blank canvas. The "outlines to the eye" that Peabody envisioned, stripped of historical significance, become pure abstraction-- appealing to the senses through color and form. </p>
              <br>
              <p>In this way, Peabody's charts affirm the role of the senses in the process of knowledge production. They also admit the influence of pleasure and play. A striking departure from contemporaneous methods of data visualization, Peabody's charts activate an alternative unfolding of history, and therefore an alternative future in their own time.</p>
            </div>
          </div>
        </div><!--close design-->
      </div>
      <div class="section cell narrative" id="interaction">
        <div class="container">
          <h2>Interaction, Updated</h2>
          <br>
          <div class = "cell">
            <div class="col-md-6">
              <p>Elizabeth Peabody intended her images to be interactive. Along with her history textbook, Peabody sold workbooks of blank charts for student use. She envisioned the exercise as one in which each student would not merely study, but actually create his or her own chart of history.</p>
              <br>
              <p>In Peabody's era, this process involved cross-referencing between textbook and workbook-- first identifying the type of event and its actors, and then coloring in the corresponding location on the chart. Updating this interaction for the web, we find easy analogues to the original exercise; a color palette presents the six possible colors, and a simple click places the color on the grid.</p>
              <br>
              <p>But more complex is Peabody's sense of how her charts produce historical knowledge. By emphasizing interaction, she places the source of knowledge in the interplay between viewer, text, and image. In other words, her charts were tools in the process of knowledge production-- not emblems of knowledge in their own right. Her hope was that, through the act of converting historical account to abstract image and back again, each student would create his or her own narrative of historical change.</p>   
            </div>
          </div>
        </div><!--close interaction-->
      </div>
    </div>
    <div class="navrow">
      <div class="section cell narrative" id="credits">
        <div class="gridline gridline-b gridline-h"></div>
        <div class="container">
          <h2>Credits</h2>
          <br>
          <div class="cell">
            <div class="col-md-6">
              <p>"The Shape of History" was conceived by Lauren Klein as part of a larger project on the history of data visualization. The site was designed and prototyped in Spring 2016 by Lauren Klein, Caroline Foster, and Erica Pramer. Adam Hayward and Shivani Negi joined the team in Fall 2016, and worked with Lauren and Caroline to implement the version of the site that you see.</p>

              <p>This site was built using HTML5, CSS and JavaScript, and makes use of several open-source libraries including <a href="https://jquery.com/">jQuery</a>, <a href="http://getbootstrap.com/">Bootstrap</a>, <a href="https://d3js.org/">D3.js</a>, and <a href="https://two.js.org/">two.js</a>. Our code is available on <a href="https://github.com/GeorgiaTechDHLab/speculative">GitHub</a>. Please contact Lauren Klein, <a href="mailto:lauren.klein@lmc.gatech.edu">lauren.klein@lmc.gatech.edu</a>, with any additional questions or comments.</p>

 		          <p>Please visit Lauren's <a href="http://lklein.com/research/">research site</a> for more academic writing on the subject. You can read a bit more about Elizabeth Peabody's visualization scheme <a href="http://lklein.com/2014/12/visualization-as-argument/">here</a> and <a href="https://medium.com/genres-of-scholarly-knowledge-production/visualization-as-argument-and-on-the-floor-736bb8859cf#.i12y3ke85">here</a>. (Other publications are in press). Bruce Rhonda's <a href="http://www.hup.harvard.edu/catalog.php?isbn=9780674246959">Elizabeth Palmer Peabody: A Reformer on Her Own Terms</a> (Harvard University Press, 1999) offers a thorough biography of the subject. Daniel Rosenberg and Anthony Grafton's <a href="https://www.papress.com/html/book.details.page.tpl?isbn=9781568987637">Cartographies of Time: A History of the Timeline</a> (Princeton Architectural Press, 2010) presents a dazzling survey of the range of visual representations of history.</p>

              <p><center>A project of the Georgia Tech <a href="http://dhlab.lmc.gatech.edu/">Digital Humanities Lab</a>.</center></p>
            </div>
          </div>
        </div>
      </div>
      <div class="section cell narrative" id="credits">
        <div class="container">
          <h2>Credits</h2>
          <br>
          <div class="cell">
            <div class="col-md-6">
              <p>CREDITS. "The Shape of History" was conceived by Lauren Klein as part of a larger project on the history of data visualization. The site was designed and prototyped in Spring 2016 by Lauren Klein, Caroline Foster, and Erica Pramer. Adam Hayward and Shivani Negi joined the team in Fall 2016, and worked with Lauren and Caroline to implement the version of the site that you see.</p>

              <p>ABOUT THE SITE. This site was built using HTML5, CSS and JavaScript, and makes use of several open-source libraries including <a href="https://jquery.com/">jQuery</a>, <a href="http://getbootstrap.com/">Bootstrap</a>, <a href="https://d3js.org/">D3.js</a>, and <a href="https://two.js.org/">two.js</a>. Our code is available on <a href=="https://github.com/GeorgiaTechDHLab/speculative">GitHub</a>. Please contact Lauren Klein, <a href="mailto:lauren.klein@lmc.gatech.edu">lauren.klein@lmc.gatech.edu</a>, with any additional questions or comments.</p>

 				      <p>FURTHER READING. This site is part of a larger project on the history of data visualization. Please visit Lauren's <a href="http://lklein.com/research/"> research site</a> for more academic writing on the subject. You can read a bit more about Elizabeth Peabody's visualization scheme <a href="http://lklein.com/2014/12/visualization-as-argument/">here</a> and <a href="https://medium.com/genres-of-scholarly-knowledge-production/visualization-as-argument-and-on-the-floor-736bb8859cf#.i12y3ke85">here</a>. (Other publications are in press). Bruce Rhonda's <a href="http://www.hup.harvard.edu/catalog.php?isbn=9780674246959">Elizabeth Palmer Peabody: A Reformer on Her Own Terms</a> (Harvard University Press, 1999) offers a thorough biography of the subject. Daniel Rosenberg and Anthony Grafton's <a href="https://www.papress.com/html/book.details.page.tpl?isbn=9781568987637">Cartographies of Time: A History of the Timeline</a> (Princeton Architectural Press, 2010) presents a dazzling survey of the range of visual representations of history.</p>

              <p><center>A project of the Georgia Tech <a href="http://dhlab.lmc.gatech.edu/">Digital Humanities Lab</a>.</center></p>
            </div>
          </div>
        </div>
      </div>
      <div class="section cell narrative" id="credits">
        <div class="container">
          <h2>Credits</h2>
          <br>
          <div class="cell">
            <div class="col-md-6">
              <p>CREDITS. "The Shape of History" was conceived by Lauren Klein as part of a larger project on the history of data visualization. The site was designed and prototyped in Spring 2016 by Lauren Klein, Caroline Foster, and Erica Pramer. Adam Hayward and Shivani Negi joined the team in Fall 2016, and worked with Lauren and Caroline to implement the version of the site that you see.</p>

              <p>ABOUT THE SITE. This site was built using HTML5, CSS and JavaScript, and makes use of several open-source libraries including <a href="https://jquery.com/">jQuery</a>, <a href="http://getbootstrap.com/">Bootstrap</a>, <a href="https://d3js.org/">D3.js</a>, and <a href="https://two.js.org/">two.js</a>. Our code is available on <a href=="https://github.com/GeorgiaTechDHLab/speculative">GitHub</a>. Please contact Lauren Klein, <a href="mailto:lauren.klein@lmc.gatech.edu">lauren.klein@lmc.gatech.edu</a>, with any additional questions or comments.</p>

 				      <p>FURTHER READING. This site is part of a larger project on the history of data visualization. Please visit Lauren's <a href="http://lklein.com/research/"> research site</a> for more academic writing on the subject. You can read a bit more about Elizabeth Peabody's visualization scheme <a href="http://lklein.com/2014/12/visualization-as-argument/">here</a> and <a href="https://medium.com/genres-of-scholarly-knowledge-production/visualization-as-argument-and-on-the-floor-736bb8859cf#.i12y3ke85">here</a>. (Other publications are in press). Bruce Rhonda's <a href="http://www.hup.harvard.edu/catalog.php?isbn=9780674246959">Elizabeth Palmer Peabody: A Reformer on Her Own Terms</a> (Harvard University Press, 1999) offers a thorough biography of the subject. Daniel Rosenberg and Anthony Grafton's <a href="https://www.papress.com/html/book.details.page.tpl?isbn=9781568987637">Cartographies of Time: A History of the Timeline</a> (Princeton Architectural Press, 2010) presents a dazzling survey of the range of visual representations of history.</p>

              <p><center>A project of the Georgia Tech <a href="http://dhlab.lmc.gatech.edu/">Digital Humanities Lab</a>.</center></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="server.js"></script>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>

    <!--<script src="js/fjord.js"></script>-->
    <script src="js/jquery-1.11.3.min.js"></script>
    <script src="js/d3.min.js"></script>
    <script src="js/two.min.js"></script>
    <script src="js/newCode/helpers.js"></script>
    <script src="js/newCode/evtEvtSet.js"></script>
    <script src="js/newCode/compare.js"></script>
    <script src="js/newCode/buildCorrector.js"></script>
    <script src="js/newCode/grid.js"></script>
    <script src="js/newCode/gridAccessories.js"></script>
<script>
      var peabody=new EventSet();
      var test= new EventSet();

      var compareGrid=new Grid("mainComp",.6,0,335),
          compEvtList=new List("compEvtList"),
          compDataList=new List("csv",true)
          timeline= new Timeline(),
          compareVisualizations=[compareGrid,compEvtList,compDataList,timeline];

      var learnGrid=new Grid("mainLearn",.75,1),
          learnPallete=new Pallete("learnPallete"),
          learnCorrector=null,
          learnKey=new EventKey(100,"learnKey"),
          learnVisualizations=[learnGrid,learnPallete];

      var playGrid=new Grid("mainPlay",.75,2),
          playPallete=new Pallete("playPallete",true),
          playKey=new EventKey(100,"playKey",true),
          playCorrector=null;
          playVisualizations=[playGrid,playKey];

      var exploreGrid=new Grid("mainExplore",.75,0),
          exploreList=new List("exploreList"),
          exploreKey=new EventKey(100,"exploreKey"),
          explorePallete=new Pallete("explorePallete"),
          exploreVisualizations=[exploreGrid,exploreList,exploreKey,explorePallete];
      var visualizations=compareVisualizations.concat(learnVisualizations)
          .concat(playVisualizations).concat(exploreVisualizations);
      var dataSets=[peabody,test];
      // start handles all loading for events.
      function start(){
        console.log("Loading data 1/2");
        peabody.loadFromCSV("peabodyData.csv", loadTest);
      }
      function loadTest(){
        console.log("Loading data 2/2");
        test.loadFromCSV("testing.csv",main);
      }
      function main(){
        learnCorrector=new BuildCorrector(peabody);
        playCorrector =new BuildCorrector(peabody);
        learnVisualizations.push(learnCorrector);
        playVisualizations.push(playCorrector);
        learnKey.draw()
        sortAllByYear(dataSets);
        loadAllWithEventSet(visualizations,peabody);
        playPallete.initEmpty([
          ['rgb(141, 43, 29)','Color Label'],
          ['rgb(50, 91, 103)','Color Label'],
          ['rgb(69, 136, 103)','Color Label'],
          ['#9CB23E ','Color Label'],
          ['#74436C','Color Label'],
          ['#BF602E','Color Label']
        ]);
        drawAll(visualizations);
        playPallete.draw();
        learnGrid.initBuild(learnPallete,learnCorrector);
        playGrid.initBuild(playPallete,playCorrector);
        $("#timeline>svg").width($("#timeline").innerWidth());
      }
      start();
      $("#compare").on("mouseover","path, rect, li",function(e){
        console.log('highlighting');
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        highlight(el,compareVisualizations);
      });
      $("#compare").on("mouseout","path, rect, li",function(e){
        console.log(e.currentTarget);
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        unhighlight(el,compareVisualizations);
      });
      $("#explore").on("mouseover","path, rect, li",function(e){
        console.log('highlighting');
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        highlight(el,exploreVisualizations);
      });
      $("#explore").on("mouseout","path, rect, li",function(e){
        console.log(e.currentTarget);
        if (e.currentTarget.getAttribute('data-date')==undefined){
          if(e.currentTarget.parentNode.getAttribute('data-date')==undefined){
            return;
          }
          var el=e.currentTarget.parentNode;
        }else{
          var el=e.currentTarget;
        }
        unhighlight(el,exploreVisualizations);
      });
      $("#mainComp").on("click","path",function(e){
        compareGrid.clickHandle(e);
      });
      $(".data-picker").on("click","a",function(e){
        changeSet(e,e.currentTarget.dataset.parent)
      });
      function changeSet(e, parent){
        console.log(e);
        if(e.currentTarget.dataset.index==1){
          //if(parent=="#compare"){
            reload(compareVisualizations,peabody);
          //}else if (parent=="#learn") {
            reload(learnVisualizations,peabody);
            learnGrid.corrector=new BuildCorrector(peabody);
            learnCorrector=learnGrid.corrector;
            learnCorrector.update();
            learnVisualizations[2]=learnCorrector;
            playGrid.corrector=new BuildCorrector(peabody);
            playCorrector=playGrid.corrector;
            playCorrector.update();
            playVisualizations[2]=playCorrector;
          //}else if (parent=="#explore") {
            reload(exploreVisualizations,peabody);
          //}
        }else if (e.currentTarget.dataset.index==2) {
          //if(parent=="#compare"){
            reload(compareVisualizations,test);
        //}else if (parent=="#learn") {
            reload(learnVisualizations,test);
            learnGrid.corrector=new BuildCorrector(test);
            learnCorrector=learnGrid.corrector;
            learnCorrector.update();
            learnVisualizations[2]=learnCorrector;
            playGrid.corrector=new BuildCorrector(test);
            playCorrector=playGrid.corrector;
            playCorrector.update();
            playVisualizations[2]=playCorrector;
          //}else if (parent=="#explore") {
            reload(exploreVisualizations,test);
          //}
        }else{
          return
        }
        $(".currentDataSet").html(e.currentTarget.innerHTML);
      }
      $("#mainLearn").on("mouseover","path",function(e){
        learnGrid.hoverHandle(e,true);
      });
      $("#mainLearn").on("mouseout","path",function(e){
        learnGrid.hoverHandle(e,false);
      });
      $("#mainLearn").on("click","path",function(e){
        learnGrid.clickHandle(e);
      });
      $("#mainPlay").on("mouseover","path",function(e){
        playGrid.hoverHandle(e,true);
      });
      $("#mainPlay").on("mouseout","path",function(e){
        playGrid.hoverHandle(e,false);
      });
      $("#mainPlay").on("click","path",function(e){
        playGrid.clickHandle(e);
      });
      $("#next").click(function(e){
        learnCorrector.loadNext();
      });
      $("#previous").click(function(e){
        learnCorrector.loadPrev();
      });
      $("#learnPallete").on("mousedown",".palleteSquare:not(.disabled)",function(e){
        learnPallete.selectColor(e.currentTarget);
      });
      $("#show-hide").on("click",function(e){
        console.log("clicky");
        learnGrid.showAnswer();
      });
      $("#play").on("mousedown",".palleteSquare:not(.disabled)",function(e){
        playPallete.selectColor(e.currentTarget);
      });
      $("#play").on("dblclick",".palleteSquare:not(.disabled)",function(e){
        playPallete.changeColor(e.currentTarget);
      });
      $("#play").on("dblclick",".palleteSquare",function(e){
        console.log(e.currentTarget.children);
        e.currentTarget.children[0].disabled=false;
        $(e.currentTarget.children[0]).trigger("click");
      });
      $("#play").on("change",".secretColor",function(e){
        e.currentTarget.parentNode.style.backgroundColor=e.currentTarget.value;
        playPallete.currentColor=e.currentTarget.value;
        e.currentTarget.disabled=true;
      });
      $("#play").on("focusout",".secretColor",function(e){
        e.currentTarget.parentNode.style.backgroundColor=e.currentTarget.value;
        playPallete.currentColor=e.currentTarget.value;
        e.currentTarget.disabled=true;
      });
      $(".suggested").on("click",function(e){
        e.currentTarget.innerHTML="";
      });
      $(document).on("keydown",function(e){
        e.preventDefault();
        if(e.keyCode==38){//up
          //nothing yet
        }else if(e.keyCode==40){//dn
          //nothing yet
        }else if (e.keyCode==39){//rt
          //nothing yet
        }else if(e.keyCode==37){//lft
          //nothing yet
        }
      });
    </script>

    <script>
      function hide(target){
        document.getElementById(target).style.display = 'none';
      }
      imageTitle="img/howitworks/HIW";
      current=0;
      console.log(imageTitle+current+".png");
      $(".clickThru").css("background-image","url('"+imageTitle+current+".png')");
      $(".clickThru").on("click",function(e){
        console.log("next");
        current++;
        if(current>8){
          current=0
        }
        e.target.style.backgroundImage="url('"+imageTitle+current+".png')";
      });
      var h= window.innerHeight;
      var gline="gridline";
      var currentPos=[0,0];
      var gridlines=[["-l","-v"],["-r","-v"],["-t","-h"],["-b","-h"]];
      var suggestions=[
        [3]    ,[3]      ,[3],
        [1,2,3],[1,0,2,3],[3,0,2],
        [3,1,2],[0,1,2,3],[0,2,3],
        [1,2,3],[1,0,2,3],[3,0,2],
        [2]    ,[2]      ,[2]
      ];
      setTimeout(function() {window.scrollTo(0, 0);},1)
      $(".navrow>.cell").css("height", h+"px");
      var cells=$(".navrow>.cell");
      for( var i=0;i<15;i++){
        var direction=null;
        var f=true;
        for(let s of suggestions[i]){
          if(f){
            f = !f;
            suggested="suggested";
          }else{
            suggested="";
          }
          if(s==0){
            direction="left";
          }else if (s==1){
            direction="right";
          }else if (s==2) {
            direction="up";
          }else{
            direction="down";
          }
          $(cells[i]).append("<div class='"+suggested+" "+gline+" "+gline+gridlines[s][0]+" "+
            gline+gridlines[s][1]+"'><span class='glyphicon glyphicon-chevron-"+
            direction+"'></span></div>"
          );
          if(gline=="gridline suggested"){
            gline="gridline";
          }
        }
      }
      $(".navrow>.cell>*:not(.gridline)").css("height", "100%")
      $(".cell").on("click",".gridline", function(e){
        if(e.currentTarget.className.includes("-h")){
          if(e.currentTarget.className.includes("-t")){
            currentPos=updateBurgerNav(currentPos[0],currentPos[1],0,-1);
            autoScrollY(-window.innerHeight);
          }else{
            currentPos=updateBurgerNav(currentPos[0],currentPos[1],0,1);
            autoScrollY(window.innerHeight);
          }
        }else{
          if(e.currentTarget.className.includes("-r")){
            currentPos=updateBurgerNav(currentPos[0],currentPos[1],1,0);
            autoScrollX(window.innerWidth);
          }else{
            currentPos=updateBurgerNav(currentPos[0],currentPos[1],-1,0);
            autoScrollX(-window.innerWidth)
          }
        }
      });
    </script>

  </body>
</html>
