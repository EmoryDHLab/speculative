<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Test</title>
    <link href='https://fonts.googleapis.com/css?family=PT+Sans|PT+Sans+Narrow:400,700|Inconsolata' rel='stylesheet' type='text/css'>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="css/style.css" rel="stylesheet">
    <link href="css/fjord.css" rel="stylesheet">
  </head>
  <body>
    <div id="learn" class='contain'>
      <h2>Learn</h2>
      <h3>Click on a color in the palette below and then click on the chart to plot each event.</h3>
      <div style="display:flex;">
        <div id="main"></div>
        <div class="accessories">
          <h4 class="sidetitle">Event</h4>
          <div id="buildList">
            <div id="infoNavArea">
              <div class="info">
                <div id="currentYr">1501.</div>
                <div id="currentBuildEvent">Henry VII. grants patent for colonizing America.&nbsp;</div>
              </div>
              <div id="eventsNavigation">
                <div>
                  <span id="previous" class="glyphicon glyphicon-chevron-left nextPrevButtons" aria-hidden="true"></span>
                  <span id="eventCounter">1</span>

                  <span id="next" class="glyphicon glyphicon-chevron-right nextPrevButtons" aria-hidden="true"></span>
                </div>
              </div>
            </div>
            <div id="correctionArea">
              <img class="corIncor" id="correct" width="21px" height="21px" src="img/checkx-check.png" alt="correct" hidden/>
              <img class="corIncor" id="incorrect" width="21px" height="21px" src="img/checkx-x.png" alt="incorrect" hidden/>
              <span class="corIncor" id="na" width="21px" height="21px"></span>
              <a id='show-hide'>Show me</a>
            </div>
          </div>
          <h4 class="sidetitle">Pallete</h4>
          <div id="pallete"></div>
          <h4 class="sidetitle">Event Key</h4>
          <div id="eventKey"></div>
        </div>
      </div>
    </div>
  </body>
  <script src="server.js"></script>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="js/bootstrap.min.js"></script>

  <!--<script src="js/fjord.js"></script>-->
  <script src="js/jquery-1.11.3.min.js"></script>
  <script src="js/d3.min.js"></script>
  <script src="js/two.min.js"></script>
  <script src="js/newCode/helpers.js"></script>
  <script src="js/newCode/evtEvtSet.js"></script>
  <script src="js/newCode/buildCorrector.js"></script>
  <script src="js/newCode/grid.js"></script>
  <script src="js/newCode/gridAccessories.js"></script>
  <script src="js/fullheight.js"></script>

  <script>
    var peabody=new EventSet();
    var test= new EventSet();

    var g=new Grid(.75,1);
    var pal=new Pallete();
    var eKey=new EventKey(100);
    var bc=null;
    // start handles all loading for events.
    function start(){
      console.log("Loading data 1/2");
      peabody.loadFromCSV("peabodyData.csv", testing);
    }
    function testing(){
      console.log("Loading data 2/2");
      test.loadFromCSV("testing.csv",main);
    }
    function main(){
      bc=new BuildCorrector(test);
      g.addEventSet(test);
      g.draw(two);
      pal.init(test);
      pal.draw();
      learnKey.draw();
      g.initBuild(pal,bc)
      two.update();
    }
    start();
    $("#main").on("mouseover","path",function(e){
      g.hoverHandle(e,true,two);
    });
    $("#main").on("mouseout","path",function(e){
      g.hoverHandle(e,false,two);
    });
    $("#main").on("click","path",function(e){
      g.clickHandle(e,two);
    });
    $("#next").click(function(e){
      bc.loadNext();
    });
    $("#previous").click(function(e){
      bc.loadPrev();
    });
    $("#pallete").on("mousedown",".palleteSquare:not(.disabled)",function(e){
      pal.selectColor(e.currentTarget);
    });
    $("#show-hide").on("click",function(e){
      console.log("clicky");
      g.showAnswer(two);
    })
  </script>

<!--
  TODO: Build an input taking version of grid
-->
</html>
